{"remainingRequest":"/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/node_modules/babel-loader/lib/index.js!/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/src/rest/service.js","dependencies":[{"path":"/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/src/rest/service.js","mtime":1590942423660},{"path":"/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import client from \"./common\";\nimport { saveAs } from 'file-saver';\nexport default {\n  convertVideo: function convertVideo(newFormat, file) {\n    return client.post(\"/convertVideo/\".concat(newFormat), file, {});\n  },\n  editVideo: function editVideo(file, operations) {\n    return client.post(\"/editVideo/\".concat(operations), file, {});\n  },\n  putWatermark: function putWatermark(files) {\n    return client.post('/putWatermark', files, {});\n  },\n  // downloadVideo (uuid) {\n  //     return client.post(`/downloadVideo/${uuid}`, {\n  //         responseType: 'blob',\n  //     })\n  // },\n  downloadRec2: function downloadRec2(userUUID, filename, callback) {\n    var recFun = function recFun() {\n      setTimeout(function () {\n        client.post(\"/status/\".concat(userUUID), null).then(function (response) {\n          if (response.data === 100) {\n            console.log('found');\n            console.log(response); // console.log(response.data)\n            // const file = new File([response.data], filename)\n            // saveAs(file)\n            // callback()\n\n            downloadFun();\n          } else {\n            console.log('not found');\n            console.log(response);\n            console.log(response.data);\n            recFun();\n          }\n        }).catch(function (error) {\n          console.log(error);\n          console.log('ups');\n          callback();\n        });\n      }, 3000);\n    };\n\n    var downloadFun = function downloadFun() {\n      client.post(\"/downloadVideo/\".concat(userUUID), null, {\n        responseType: 'blob'\n      }).then(function (response) {\n        if (response.data.type === 'text/html') {\n          console.log('not found');\n          console.log('nie dziala');\n          callback();\n        } else {\n          console.log('found');\n          console.log(response);\n          console.log(response.data);\n          var file = new File([response.data], filename);\n          saveAs(file);\n          callback();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        callback();\n      });\n    };\n\n    recFun();\n  },\n  downloadRec: function downloadRec(userUUID, filename, percent, callback) {\n    var recFun = function recFun() {\n      setTimeout(function () {\n        client.post(\"/status/\".concat(userUUID), null).then(function (response) {\n          if (response.data === 100) {\n            console.log('found');\n            console.log(response);\n            percent(response.data); // console.log(response.data)\n            // const file = new File([response.data], filename)\n            // saveAs(file)\n            // callback()\n\n            downloadFun();\n          } else {\n            console.log('not found');\n            console.log(response);\n            console.log(response.data);\n            percent(response.data);\n            recFun();\n          }\n        }).catch(function (error) {\n          console.log(error);\n          console.log('ups');\n          callback();\n        });\n      }, 3000);\n    };\n\n    var downloadFun = function downloadFun() {\n      client.post(\"/downloadVideo/\".concat(userUUID), null, {\n        responseType: 'blob'\n      }).then(function (response) {\n        if (response.data.type === 'text/html') {\n          console.log('not found');\n          console.log('nie dziala');\n          callback();\n        } else {\n          console.log('found');\n          console.log(response);\n          console.log(response.data);\n          var file = new File([response.data], filename);\n          saveAs(file);\n          callback();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        callback();\n      });\n    };\n\n    recFun();\n  }\n};",{"version":3,"sources":["/home/bartek/Desktop/komponenty/test/new_repo/TKProject/frontend/src/rest/service.js"],"names":["client","saveAs","convertVideo","newFormat","file","post","editVideo","operations","putWatermark","files","downloadRec2","userUUID","filename","callback","recFun","setTimeout","then","response","data","console","log","downloadFun","catch","error","responseType","type","File","downloadRec","percent"],"mappings":"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","sourcesContent":["import client from './common'\nimport { saveAs } from 'file-saver'\n\nexport default {\n    convertVideo (newFormat, file) {\n        return client.post(`/convertVideo/${newFormat}`, file, {})\n    },\n    editVideo (file, operations) {\n        return client.post(`/editVideo/${operations}`, file, {})\n    },\n    putWatermark (files) {\n        return client.post('/putWatermark', files, {})\n    },\n    // downloadVideo (uuid) {\n    //     return client.post(`/downloadVideo/${uuid}`, {\n    //         responseType: 'blob',\n    //     })\n    // },\n    downloadRec2 (userUUID, filename, callback) {\n        const recFun = function () {\n            setTimeout(function () {\n                client.post(`/status/${userUUID}`, null)\n                    .then(response => {\n                        if (response.data === 100) {\n                            console.log('found')\n                            console.log(response)\n                            // console.log(response.data)\n                            // const file = new File([response.data], filename)\n                            // saveAs(file)\n                            // callback()\n                            downloadFun()\n                        } else {\n                            console.log('not found')\n                            console.log(response)\n                            console.log(response.data)\n                            recFun()\n                        }\n                    }).catch(error => {\n                    console.log(error)\n                    console.log('ups')\n                    callback()\n                })\n            }, 3000)\n        }\n\n        const downloadFun = function () {\n            client.post(`/downloadVideo/${userUUID}`, null, {\n                responseType: 'blob',\n            }).then(response => {\n                if (response.data.type === 'text/html') {\n                    console.log('not found')\n                    console.log('nie dziala')\n                    callback()\n                } else {\n                    console.log('found')\n                    console.log(response)\n                    console.log(response.data)\n                    const file = new File([response.data], filename)\n                    saveAs(file)\n                    callback()\n                }\n            }).catch(error => {\n                console.log(error)\n                callback()\n            })\n        }\n        recFun()\n    },\n    downloadRec (userUUID, filename, percent, callback) {\n        const recFun = function () {\n            setTimeout(function () {\n                client.post(`/status/${userUUID}`, null)\n                    .then(response => {\n                        if (response.data === 100) {\n                            console.log('found')\n                            console.log(response)\n                            percent(response.data)\n                            // console.log(response.data)\n                            // const file = new File([response.data], filename)\n                            // saveAs(file)\n                            // callback()\n                            downloadFun()\n                        } else {\n                            console.log('not found')\n                            console.log(response)\n                            console.log(response.data)\n                            percent(response.data)\n                            recFun()\n                        }\n                    }).catch(error => {\n                    console.log(error)\n                    console.log('ups')\n                    callback()\n                })\n            }, 3000)\n        }\n\n        const downloadFun = function () {\n            client.post(`/downloadVideo/${userUUID}`, null, {\n                responseType: 'blob',\n            }).then(response => {\n                if (response.data.type === 'text/html') {\n                    console.log('not found')\n                    console.log('nie dziala')\n                    callback()\n                } else {\n                    console.log('found')\n                    console.log(response)\n                    console.log(response.data)\n                    const file = new File([response.data], filename)\n                    saveAs(file)\n                    callback()\n                }\n            }).catch(error => {\n                console.log(error)\n                callback()\n            })\n        }\n        recFun()\n    },\n}\n"]}]}